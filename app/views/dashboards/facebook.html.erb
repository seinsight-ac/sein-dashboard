<div class="wrapper wrapper-content">
  <div class="row">
    <div class="col-lg-3">
      <div class="ibox float-e-margins">
        <div class="ibox-title">
          <span class="label label-success pull-right"><%= @fansmale%></span>
          <h5>粉絲專頁曝光使用者數</h5>
        </div>
        <div class="ibox-content">
          <h1 class="no-margins" style="display: inline-block"><%= @fansfemale%></h1>
          <div class="stat-percent font-bold text-success">98% <i class="fa fa-bolt"></i></div>
          <div id="sparkline1"></div>
        </div>
      </div>
    </div>
    <div class="col-lg-3">
      <div class="ibox float-e-margins">
        <div class="ibox-title">
          <span class="label label-success pull-right">Monthly</span>
          <h5>粉絲專頁</h5>
        </div>
        <div class="ibox-content">
          <h1 class="no-margins">3.03%</h1>
          <div class="stat-percent font-bold text-success">98% <i class="fa fa-bolt"></i></div>
          <small>連結點擊率</small>
        </div>
      </div>
    </div>
  </div>

  <div class="row">

    <div class="col-lg-4">
      <div class="ibox float-e-margins">
        <div class="ibox-title">
          <h5>
            粉專讚數趨勢
          </h5>
          <div ibox-tools></div>
        </div>
        <div class="ibox-content">
          <div>
            <canvas id="lineChart2" height="215"></canvas>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-8">
      <div class="ibox float-e-margins">

        <div class="ibox-title">
          <h5>粉絲黏著度分析</h5>
          <div class="pull-right">
            <div class="btn-group">
              <button type="button" class="btn btn-xs btn-white active">Today</button>
              <button type="button" class="btn btn-xs btn-white">Monthly</button>
              <button type="button" class="btn btn-xs btn-white">Annual</button>
            </div>
          </div>
        </div>

        <div class="ibox-content">
          <div class="row">

            <div class="col-lg-9">
              <div>
                <canvas id="lineChart1" height="135"></canvas>
              </div>
            </div>

            <div class="col-lg-3">
              <ul class="stat-list">

                <li>
                  <h2 class="no-margins">3246</h2>
                  <small>心情數</small>
                  <div class="stat-percent">48% <i class="fa fa-level-up text-navy"></i></div>
                  <div class="progress progress-mini">
                    <div style="width: 48%;" class="progress-bar"></div>
                  </div>
                </li>

                <li>
                  <h2 class="no-margins ">522</h2>
                  <small>留言數</small>
                  <div class="stat-percent">60% <i class="fa fa-level-down text-navy"></i></div>
                  <div class="progress progress-mini">
                    <div style="width: 60%;" class="progress-bar"></div>
                  </div>
                </li>

                <li>
                  <h2 class="no-margins ">80</h2>
                  <small>分享數</small>
                  <div class="stat-percent">22% <i class="fa fa-bolt text-navy"></i></div>
                  <div class="progress progress-mini">
                      <div style="width: 22%;" class="progress-bar"></div>
                  </div>
                </li>

              </ul>
            </div>

          </div>
        </div>

      </div>
    </div>

  </div>
</div>

<% content_for :javascript do %>

<script type="text/javascript">

$(function() {

  $("#sparkline1").sparkline([34, 43, 43, 35, 44, 32, 44, 52], {
    type: 'line',
    width: '100%',
    height: '60',
    lineColor: '#1ab394',
    fillColor: "#ffffff"
  });

  $("#sparkline2").sparkline([34, 43, 43, 35, 44, 32, 44, 52], {
    type: 'line',
    width: '100%',
    height: '60',
    lineColor: '#1ab394',
    fillColor: "#ffffff"
  });

  $("#sparkline3").sparkline([34, 43, 43, 35, 44, 32, 44, 52], {
    type: 'line',
    width: '100%',
    height: '60',
    lineColor: '#1ab394',
    fillColor: "#ffffff"
  });

  $("#sparkline4").sparkline([34, 43, 43, 35, 44, 32, 44, 52], {
    type: 'line',
    width: '100%',
    height: '60',
    lineColor: '#1ab394',
    fillColor: "#ffffff"
  });
  
  var lineData1 = {
    labels: ["January", "February", "March", "April", "May", "June", "July"],
    datasets: [

      {
        label: "心情數",
        backgroundColor: 'rgba(220, 220, 220, 0.3)',
        pointBackgroundColor: "rgba(220, 220, 220, 0.3)",
        pointBorderColor: "#fff",
        data: [78, 87, 94, 83, 73, 84, 90]
      },{
        label: "留言數",
        backgroundColor: 'rgba(26,179,148,0.5)',
        pointBorderColor: "#fff",
        data: [65, 59, 60, 71, 56, 55, 40]
      },{
        label: "分享數",
        backgroundColor: 'rgba(225,225,225,1)',
        pointBorderColor: "#fff",
        data: [11, 23, 14, 26, 24, 17, 25]
      }
    ]
  };

  var lineData2 = {
    labels: ["January", "February", "March", "April", "May", "June", "July"],
    datasets: [

      {
        label: "讚數",
        backgroundColor: 'rgba(220, 220, 220, 0.3)',
        pointBackgroundColor: "rgba(220, 220, 220, 0.3)",
        pointBorderColor: "#fff",
        data: [78, 87, 94, 83, 73, 84, 90]
      },{
        label: "淨讚數",
        backgroundColor: 'rgba(26,179,148,0.5)',
        pointBorderColor: "#fff",
        data: [65, 59, 60, 71, 56, 55, 40]
      },{
        label: "退讚數",
        backgroundColor: 'rgba(225,225,225,1)',
        pointBorderColor: "#fff",
        data: [-10, -12, -14, -26, -24, -17, -25]
      }
    ]
  };

  var lineData3 = {
    labels: ["January", "February", "March", "April", "May", "June", "July"],
    datasets: [

      {
        label: "一次工作階段使用者",
        backgroundColor: 'rgba(220, 220, 220, 0.5)',
        pointBorderColor: "#fff",
        data: [65, 59, 80, 81, 56, 55, 40]
      },{
        label: "多次工作階段使用者",
        backgroundColor: 'rgba(26,179,148,0.5)',
        borderColor: "rgba(26,179,148,0.7)",
        pointBackgroundColor: "rgba(26,179,148,1)",
        pointBorderColor: "#fff",
        data: [28, 48, 40, 19, 86, 27, 90]
      }
    ]
  };

  var lineOptions = {
    responsive: true
  };

  var ctx1 = document.getElementById("lineChart1").getContext("2d");
  new Chart(ctx1, {type: 'line', data: lineData1, options:lineOptions});

  var ctx2 = document.getElementById("lineChart2").getContext("2d");
  new Chart(ctx2, {type: 'line', data: lineData2, options:lineOptions});

  var ctx3 = document.getElementById("lineChart3").getContext("2d");
  new Chart(ctx3, {type: 'line', data: lineData3, options:lineOptions});


  var polarData = {
    datasets: [{
      data: [
        300,250,200,
      ],
      backgroundColor: [
        "#a3e1d4", "#dedede", "#b5b8cf"
      ],
      label: [
        "My Radar chart"
      ]
    }],
    labels: [
      "手機","桌電","平板"
    ]
  };

  var polarOptions = {
    segmentStrokeWidth: 2,
    responsive: true,
    scale: {
      ticks: {
        beginAtZero: true
      },
      reverse: false
    },
  };

  var ctx5 = document.getElementById("polarChart").getContext("2d");
  new Chart(ctx5, {type: 'polarArea', data: polarData, options:polarOptions});

  var doughnutData1 = {
    labels: ["新訪客","回訪客"],
    datasets: [{
      data: [300,100],
      backgroundColor: ["#a3e1d4","#b5b8cf"]
    }]
  } ;

  var doughnutOptions = {
    responsive: true
  };

  var ctx4 = document.getElementById("doughnutChart1").getContext("2d");
  new Chart(ctx4, {type: 'doughnut', data: doughnutData1, options:doughnutOptions});


  var barData1 = {
    labels: ["有機搜尋", "社群", "自然流量", "參照連結", "其他"],
    datasets: [
      {
        label: "流量數",
        backgroundColor: 'rgba(220, 220, 220, 0.5)',
        pointBorderColor: "#fff",
        yAxisID: 'y-axis-1',
        data: [15000, 10000, 8000, 5000, 3000]
      },
      {
        label: "跳出率",
        backgroundColor: 'rgba(26,179,148,0.5)',
        borderColor: "rgba(26,179,148,0.7)",
        pointBackgroundColor: "rgba(26,179,148,1)",
        pointBorderColor: "#fff",
        yAxisID: 'y-axis-2',
        data: [68, 78, 67, 69, 66]
      }
    ]
  };

  var barOptions1 = {
    responsive: true,
    scales: {
      yAxes: [{
        type: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance
        display: true,
        position: 'left',
        id: 'y-axis-1',
      }, {
        type: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance
        display: true,
        position: 'right',
        id: 'y-axis-2',
        stacked: true,
        gridLines: {
          drawOnChartArea: false
        }
      }],
    }
  };

  var ctx6 = document.getElementById("barChart1").getContext("2d");
  new Chart(ctx6, {type: 'bar', data: barData1, options:barOptions1});

  var barData2 = {
  labels: ["社企流", "上下游", "泛科學", "環境資訊中心", "NPOst", "Womany"],
  datasets: [
      {
        label: "流量",
        backgroundColor: 'rgba(26,179,148,0.5)',
        borderColor: "rgba(26,179,148,0.7)",
        pointBackgroundColor: "rgba(26,179,148,1)",
        pointBorderColor: "#fff",
        data: [1248, 1084, 658, 539, 1300, 334]
      }
    ]
  };

  var barOptions2 = {
    responsive: true,
    scales: {
      xAxes: [{
        stacked: true,
      }]
    }
  };

  var ctx7 = document.getElementById("barChart2").getContext("2d");
  new Chart(ctx7, {type: 'horizontalBar', data: barData2, options:barOptions2});
});

</script>

<% end %>